<template name="profileSettings">
    <div class="panel">
        <div class="panel-heading">
            <h1 class="userprofile-main-title">
                {{ mf 'userProfile-mainHeading' 'Profile Settings'}}
            </h1>
            <a href="" class="float-right">{{ mf 'userProfile-account' 'Account (to be added)' }} </a>
            <a href="" class="float-right">{{ mf 'userProfile-email' 'Email (to be added)' }}</a>
            <hr>
        </div>
        <div class="panel-body">
            <h2 class="userprofile-sub-title">
                {{ mf 'userProfile-subheading-basics' 'Basics'}}
            </h2>
            {{ #autoForm id="UserProfileEdit" collection="Meteor.users"  doc=currentUser type="method-update" meteormethod="User.update" validation="keyup" }}
                <div class="formgroup {{#if afFieldIsInvalid name='username'}} has-error{{/if}}">
                    {{> afQuickField name="username"}}
                </div>
                <div class="formgroup {{#if afFieldIsInvalid name='profile.gender'}} has-error{{/if}}">
                    {{> afQuickField name="profile.gender" options=genderOptions}}
                </div>
                <div class="formgroup {{#if afFieldIsInvalid name='profile.language'}} has-error{{/if}}">
                    {{> afQuickField name="profile.language" options=languageOptions}}
                </div>

                <div class="formgroup {{#if afFieldIsInvalid name='profile.biography'}} has-error{{/if}}">
                    {{> afQuickField name="profile.biography" rows=6 }}
                </div>


                <div class="form-group">
                    <button type="submit" class="btn btn-primary">Submit</button>
                </div>
            {{/autoForm}}
                <hr>
                <h2 class="userprofile-sub-title">
                    {{ mf 'userProfile-subheading-security' 'Security'}}
                </h2>

                {{#autoForm id="PasswordEdit" collection="Meteor.users"  doc=currentUser type="method-update" meteormethod="changePassword" validation="keyup"}}

                <div class="formgroup {{#if afFieldIsInvalid name='password'}} has-error{{/if}}">
                    {{> afQuickField name="password"  }}
                </div>

                <div class="formgroup {{#if afFieldIsInvalid name='password'}} has-error{{/if}}">
                    {{> afQuickField name="passwordCheck" label="Confirm Password" }}
                </div>

            {{/autoForm}}
        </div>
    </div>
</template>